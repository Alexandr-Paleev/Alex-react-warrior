{"version":3,"sources":["components/MovieItem.jsx","components/MovieListWillWatch.jsx","components/MovieTabs.jsx","components/Pagination.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","thisState","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","bind","React","Component","MovieListWillWatch","list","toFixed","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handleClick","value","cn","active","Pagination","total","currentPage","updateCurrentPageNext","updateCurrentPagePrevious","App","updateMovie","movies","filter","item","id","updateMoviesWillWatch","moviesWillWatch","getMovies","fetch","then","response","json","data","results","total_pages","prevProps","prevState","key","getNewPageMovies","map","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ae86a370.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass MovieItem extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            willWatch: false\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {movie, removeMovie, addMovieToWillWatch, removeMovieFromWillWatch} = this.props;\r\n        const thisState = this.state.willWatch;\r\n\r\n        return (\r\n            <div className=\"card\">\r\n            <img\r\n                className=\"card-img-top\"\r\n                src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path ||\r\n                movie.poster_path}`}\r\n                alt=\"no for this movie\"\r\n            />\r\n            <div className=\"card-body\">\r\n                <h6 className=\"card-title\">{movie.title}</h6>\r\n                <div className=\"d-flex justify-content-between align-items-center\">\r\n                <p className=\"mb-0\">Rating: {movie.vote_average}</p>\r\n                    <button\r\n                        type=\"button\"\r\n                        className={thisState ? \"btn btn-success\" : \"btn btn-secondary\"}\r\n                        onClick={() => {\r\n                            this.setState({\r\n                                willWatch: !thisState\r\n                            });\r\n                            thisState ? removeMovieFromWillWatch(movie) : addMovieToWillWatch(movie);\r\n                        }}\r\n                    >\r\n                        Will Watch\r\n                    </button>\r\n                \r\n                </div>\r\n                <button onClick={removeMovie.bind(null, movie)}>\r\n                    Delete movie\r\n                </button>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MovieItem;","import React from 'react'\r\n\r\nconst MovieListWillWatch = (props) => {\r\n    const { list } = props;\r\n\r\n    return (\r\n        <div>\r\n            <ul className=\"list-group\">\r\n                <li className=\"list-group-item\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <h6>{list.title}</h6>\r\n                    <p>{list.vote_average.toFixed(1)}</p>\r\n                </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MovieListWillWatch;\r\n","import React, { Component } from 'react';\r\nimport cn from 'classnames';\r\n\r\nclass MovieTabs extends Component {\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (nextProps.sort_by !== this.props.sort_by) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    render() {\r\n        const { sort_by, updateSortBy } = this.props;\r\n        \r\n        const handleClick = value => () => updateSortBy(value);\r\n        \r\n        return (\r\n            <ul className=\"tabs nav nav-pills\">\r\n                <li className=\"nav-item\">\r\n                    <div \r\n                      className={cn(\"nav-link\", {active: sort_by === \"popularity.desc\"})}\r\n                      onClick={handleClick(\"popularity.desc\")}\r\n                    >\r\n                        Popularity\r\n                    </div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div \r\n                      className={cn(\"nav-link\", {active: sort_by === \"original_title.desc\"})}\r\n                      onClick={handleClick(\"original_title.desc\")}\r\n                    >\r\n                        Original title\r\n                    </div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div \r\n                      className={cn(\"nav-link\", {active: sort_by === \"vote_average.desc\"})}\r\n                      onClick={handleClick(\"vote_average.desc\")}\r\n                    >\r\n                        Vote average\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        )        \r\n    }\r\n}\r\n\r\nexport default MovieTabs;","import React, { Component } from 'react'\r\nimport cn from 'classnames';\r\n\r\nexport default class Pagination extends Component {\r\n    render() {\r\n        const { \r\n            total, \r\n            currentPage, \r\n            updateCurrentPageNext, \r\n            updateCurrentPagePrevious, \r\n        } = this.props;\r\n\r\n        // console.log(currentPage);\r\n\r\n        return (\r\n            <ul className=\"tabs nav nav-pills d-flex justify-content-between\">\r\n                <li className=\"nav-item\">\r\n                    <div \r\n                        className={cn(\"nav-link\", {active: true})}\r\n                        onClick={() => updateCurrentPagePrevious(currentPage)}\r\n                    >\r\n                        Previous\r\n                    </div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div>\r\n                        {`${currentPage} from ${total}`}\r\n                    </div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div \r\n                        className={cn(\"nav-link\", {active: true})}\r\n                        onClick={() => updateCurrentPageNext(currentPage)}\r\n                    >\r\n                        Next\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\n// import { moviesData } from '../moviesData';\r\nimport MovieItem from './MovieItem';\r\nimport MovieListWillWatch from './MovieListWillWatch';\r\nimport { API_URL, API_KEY_3 } from '../utils/api';\r\nimport MovieTabs from './MovieTabs';\r\nimport Pagination from './Pagination';\r\n\r\n// UI = fn(state, props)\r\n\r\n\r\nclass App extends Component {\r\n    constructor() {\r\n        super();\r\n        \r\n        this.state = {\r\n            movies: [],\r\n            moviesWillWatch: [],\r\n            sort_by: \"popularity.desc\",\r\n            currentPage: 1,\r\n            total_pages: null\r\n        };\r\n\r\n        // this.removeMovie = this.removeMovie.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getMovies();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevState.sort_by !== this.state.sort_by || prevState.currentPage !== this.state.currentPage) {\r\n            this.getMovies();\r\n        }\r\n    }\r\n\r\n    removeMovie = movie => {\r\n        const updateMovie = this.state.movies.filter(function(item) {\r\n            return item.id !== movie.id;\r\n        });\r\n        this.setState({\r\n            movies: updateMovie\r\n        });\r\n    }\r\n\r\n    addMovieToWillWatch = movie => {\r\n        // const updateMoviesWillWatch = this.state.moviesWillWatch.slice();\r\n        // updateMoviesWillWatch.push(movie);\r\n        \r\n        let updateMoviesWillWatch = [...this.state.moviesWillWatch];\r\n        updateMoviesWillWatch = updateMoviesWillWatch.filter(item => {\r\n            return item.id !== movie.id;\r\n        });\r\n        updateMoviesWillWatch = [...updateMoviesWillWatch, movie];\r\n        this.setState({\r\n            moviesWillWatch: updateMoviesWillWatch\r\n        })\r\n    }\r\n\r\n    removeMovieFromWillWatch = movie => {\r\n        const updateMoviesWillWatch = this.state.moviesWillWatch.filter(function(item) {\r\n            return item.id !== movie.id;\r\n        });\r\n        this.setState({\r\n            moviesWillWatch: updateMoviesWillWatch\r\n        });\r\n    }\r\n\r\n    getMovies = () => {\r\n        fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.currentPage}`)\r\n          .then(response => {\r\n              return response.json();\r\n          }).then(data => {\r\n              this.setState({\r\n                  movies: data.results,\r\n                  total_pages: data.total_pages\r\n              })\r\n          })\r\n    }\r\n\r\n    updateSortBy = value => {\r\n        this.setState({\r\n            sort_by: value\r\n        })\r\n    }\r\n\r\n    updateCurrentPageNext = value => {\r\n        this.setState({\r\n            currentPage: ++value\r\n        });\r\n    }\r\n\r\n    updateCurrentPagePrevious = (value) => {\r\n        // value = value ? value : 1;\r\n        if (value > 1) {\r\n            value = value;\r\n        } else if (value = 1) {\r\n            value = 2;\r\n        }\r\n        this.setState({\r\n            currentPage: --value\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-9\">\r\n                        <div className=\"row mb-4 mt-4\">\r\n                            <div className=\"col-12\">\r\n                                <MovieTabs \r\n                                    sort_by={this.state.sort_by}\r\n                                    updateSortBy={this.updateSortBy}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row mb-4 mt-4\">\r\n                            <div className=\"col-12\" key={this.state.currentPage}>\r\n                                <Pagination \r\n                                    total={this.state.total_pages}\r\n                                    currentPage={this.state.currentPage}\r\n                                    updateCurrentPageNext={this.updateCurrentPageNext}\r\n                                    updateCurrentPagePrevious={this.updateCurrentPagePrevious}\r\n                                    getNewPageMovies={this.getMovies}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            {this.state.movies.map((movie) => {\r\n                                return (\r\n                                    <div className=\"col-6 mb-4\" key={movie.id}>\r\n                                        <MovieItem \r\n                                            movie={movie} \r\n                                            removeMovie={this.removeMovie} \r\n                                            addMovieToWillWatch={this.addMovieToWillWatch} \r\n                                            removeMovieFromWillWatch={this.removeMovieFromWillWatch}\r\n                                        />\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                        <div className=\"row mb-4 mt-4\">\r\n                            <div className=\"col-12\" key={this.state.currentPage}>\r\n                                <Pagination \r\n                                    total={this.state.total_pages}\r\n                                    currentPage={this.state.currentPage}\r\n                                    updateCurrentPageNext={this.updateCurrentPageNext}\r\n                                    updateCurrentPagePrevious={this.updateCurrentPagePrevious}\r\n                                    getNewPageMovies={this.getMovies}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-3 mt-4\">\r\n                        <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\r\n                        {this.state.moviesWillWatch.map(movie => {\r\n                            return (\r\n                                <div key={movie.id}>\r\n                                    <MovieListWillWatch \r\n                                        list={movie}                                         \r\n                                    />\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// function App() {\r\n//     return <div>{moviesData[0].title}</div>\r\n// }\r\n\r\nexport default App;","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\n\n// const movie = {\n//   title: \"Avengers: Infinity War\",\n//   voteAverage: 8.5,\n//   image: \"https://lh3.googleusercontent.com/proxy/MfIZYYmNT63_vbWEXehY0DsVcnh1xdibZ0iV0yrrY_BvzkV_WnZwjNfg6DU8uCOL4PgCI22LwnfRNDurf7OuJa9ksooJQudg9iP6tR7JVTVV1nwgEw\",\n//   overview: \"lalala lalala lalala\"\n// }\n\n// function Image(props) {\n//   return (\n//     <img style={{width: \"100%\"}} src={props.src} alt={props.alt} />\n//   )\n// }\n  \n// // MovieItem = new React.Component()\n// class MovieItem extends React.Component {\n//   constructor() {\n//     super();\n//     this.state = {\n//       show: false,\n//       like: false\n//     };\n//   }\n\n//   toggleOverview = () => {\n//     this.setState({\n//       show: !this.state.show\n//     });\n//   }\n\n//   handleLike = () => {\n//     this.setState({\n//       like: !this.state.like\n//     });\n//   }\n\n//   render() {\n//     const {data: {title, voteAverage, image, overview}} = this.props;\n//     console.log(this.state.show, this.state.like)\n//     return (\n//       <div style={{width: \"300px\"}}>\n//         <Image src={image} alt={title} />\n//         <p>{title}</p>\n//         <p>{voteAverage.toFixed(1)}</p>\n//         <div style={{display: \"flex\", justifyContent: \"space-between\"}} >\n//           <button type=\"button\" onClick={this.toggleOverview}>\n//             {this.state.show ? \"hide\": \"show\"}\n//           </button>\n//           <button \n//             type=\"button\" \n//             onClick={this.handleLike}\n//             className={this.state.like ? \"btn--like\" : \"\"}\n//           >\n//             Like\n//           </button>\n//         </div>\n//         {this.state.show ? <p>{overview}</p>: null}\n//       </div>\n//     )\n//   }\n// }\n\n// function App () {\n//   return (\n//     <div>\n//       <h1>Hello man!!!</h1>\n\n//       <MovieItem data={movie} />\n//     </div>\n//   )\n// }\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}